(function(e){e.fn.getFirstVisible=function(t){var n,r={},i={watchSelector:false,callback:false,activeClass:"topElement",showRatio:.85,padValue:0};if(typeof t==="string"){console.log("YOU ARE A STRING!!@!!");r=i;r.watchSelector=t}else{r=e.extend(i,t)}if(r.watchSelector){n=e(r.watchSelector);n.eq(0).addClass(r.activeClass);e(window).scroll(function(){var t,i=e(window).scrollTop();if(r.callback){t=e("."+r.activeClass)}n.removeClass(r.activeClass).each(function(){var s=e(this),o=s.offset().top,u=s.outerHeight();if(o+u*r.showRatio-r.padValue>i){s.addClass(r.activeClass);if(r.callback&&n.index(s)!==n.index(t)){r.callback.call(null,t,s)}return false}})})}}})(jQuery)
